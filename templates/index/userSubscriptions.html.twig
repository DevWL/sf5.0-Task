{% extends 'base.html.twig' %}

{% block title %}Hello IndexController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>{{ title }} ✅</h1>

    {% for sub in userSubscriptionArray %}
        <ul>
        <li>User: {{ sub.user.username }}</li>
        <li>subscription id {{ sub.id }}</li>
            <a href="/subscription/remove/{{sub.id}}"><button class="btn btn-success">pay</button></a>
            <a href="/subscription/remove/{{sub.id}}"><button class="btn btn-danger">remove</button></a>
        <li>{{ sub.status }}</li>
        <li>started at: {{ sub.startedAt | date('Y-m-d') }}
            <ul>
                {% for subPay in sub.subscriptionPayments %}
                <li>{{ subPay.id }} paid {{ subPay.chargedamount }} zł</li>
                {% endfor %}
            </ul>
        </ul>

    {% endfor %}

</div>
{% endblock %}
